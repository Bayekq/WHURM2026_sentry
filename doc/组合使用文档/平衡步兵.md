# 平衡步兵

## 操作指南

### 遥控器

- 左拨杆：
  - 上档：射击模式
  - 中档：键鼠控制
  - 下档：拨弹盘和摩擦轮锁死，紧急停止
- 左摇杆：
  - 水平：控制云台yaw轴旋转
  - 竖直：控制云台pitch轴旋转
- 左滚轮：控制腿长
- 右拨杆：
  - 上档：正常控制，侧身模式
  - 中档：键鼠控制，切换模式
  - 下档：底盘无力，紧急停止
- 右摇杆：
  - 水平：控制机体Roll角
  - 竖直：控制前进和后退

### 键鼠

- W:前进速度
- S:后退速度
- A:
- D:
- SHIFT:
- CTRL:
- Q:
- E:
- R:
- F:
- G:
- Z:
- X:
- C:
- V:
- B:

### 校准

> 校准完成后会自动退出并保存校准数据。

- 进入校准：
  > 摇杆打成 `\. ./` 2秒进入校准模式。\
  > 之后可以选择进行的校准内容。
- 校准IMU：
  > 摇杆打成 `./ \.` 开始陀螺仪校准。\
  > 保持c板水平放置至校准结束。\
  > 期间将校准陀螺仪数据。
- 校准云台：
  > 将云台摆至正方向后将摇杆打成 `'\ /'` 开始云台校准。\
  > 云台将记录当前位置为yaw轴电机中值。\
  > 然后先确定最低点限位角，再确定最高点限位角，最后确定pitch水平时的位置。
- 校准底盘：
  > 将摇杆打成 `/' '\` 开始底盘校准。\
  > 腿部关节将会向两侧转动到限位位置后设置电机零点。

## 硬件指南

### C板

云台和底盘分别使用一块C板进行控制，两者通过uart建立通信连接

遥控器接收器连接于底盘

### 电机

- 底盘关节电机采用DM8009，接入CAN1-底盘C板，id分别为1 2 3 4
- 底盘驱动轮电机采用MF9025，接入CAN2-底盘C板，id分别为1 2
- 云台 yaw 电机采用GM6020，接入CAN2-云台C板，id为1
- 云台pitch电机采用GM6020，接入CAN2-云台C板，id为2
- 拨弹盘电机采用GM2006，接入CAN1-云台C板，id为 3
- 摩擦轮电机采用GM3508，接入CAN1-云台C板，id分别为1 2
